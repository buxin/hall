<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>哪里去</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="full-screen" content="true"/>
    <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>
    <style>
        html, body {
            -ms-touch-action: none;
            background: #0;
            padding: 0;
            border: 0;
            margin: 0;
            height: 100%;
        }
        
        #txt{
            -ms-touch-action: none;
			position:fixed;
			width:100%;
			margin:auto;
			top:30%;
			left:0;
			right:0;
            text-align:center;
			z-index:6001;
            font-size:20px;
            color:#e11a45;
        }
    </style>

    <!--这个标签为通过egret提供的第三方库的方式生成的 javascript 文件。删除 modules_files 标签后，库文件加载列表将不会变化，请谨慎操作！-->
    <!--modules_files_start-->
	<script egret="lib" src="libs/modules/egret/egret.js" src-release="libs/modules/egret/egret.min.js"></script>
	<script egret="lib" src="libs/modules/egret/egret.web.js" src-release="libs/modules/egret/egret.web.min.js"></script>
	<script egret="lib" src="libs/modules/res/res.js" src-release="libs/modules/res/res.min.js"></script>
	<script egret="lib" src="libs/modules/game/game.js" src-release="libs/modules/game/game.min.js"></script>
	<script egret="lib" src="libs/modules/eui/eui.js" src-release="libs/modules/eui/eui.min.js"></script>
	<script egret="lib" src="libs/modules/tween/tween.js" src-release="libs/modules/tween/tween.min.js"></script>
	<script egret="lib" src="libsrc/bin/weixinapi/weixinapi.js" src-release="libsrc/bin/weixinapi/weixinapi.min.js"></script>
	<!--modules_files_end-->

    <!--这个标签为不通过egret提供的第三方库的方式使用的 javascript 文件，请将这些文件放在libs下，但不要放在modules下面。-->
    

    <!--这个标签会被替换为项目中所有的 javascript 文件。删除 game_files 标签后，项目文件加载列表将不会变化，请谨慎操作！-->
    <!--game_files_start-->
	<script egret="game" src="bin-debug/ui/WinBase.js"></script>
	<script egret="game" src="bin-debug/ThemeAdapter.js"></script>
	<script egret="game" src="bin-debug/Data/DrawData.js"></script>
	<script egret="game" src="bin-debug/Data/GameConstant.js"></script>
	<script egret="game" src="bin-debug/Data/GameInfo.js"></script>
	<script egret="game" src="bin-debug/Data/GamePrice.js"></script>
	<script egret="game" src="bin-debug/Data/GameRecord.js"></script>
	<script egret="game" src="bin-debug/Data/GameRoundData.js"></script>
	<script egret="game" src="bin-debug/Data/GameSetting.js"></script>
	<script egret="game" src="bin-debug/Data/MyExploit.js"></script>
	<script egret="game" src="bin-debug/Data/MyPlayer.js"></script>
	<script egret="game" src="bin-debug/Data/PlayerRoundData.js"></script>
	<script egret="game" src="bin-debug/Data/Promotion.js"></script>
	<script egret="game" src="bin-debug/Data/ServerInfo.js"></script>
	<script egret="game" src="bin-debug/Data/SystemData.js"></script>
	<script egret="game" src="bin-debug/Data/TimeFormat.js"></script>
	<script egret="game" src="bin-debug/Data/Withdraw.js"></script>
	<script egret="game" src="bin-debug/DataJsonParser.js"></script>
	<script egret="game" src="bin-debug/decorate/Emitter.js"></script>
	<script egret="game" src="bin-debug/decorate/IdManager.js"></script>
	<script egret="game" src="bin-debug/decorate/Particle.js"></script>
	<script egret="game" src="bin-debug/Effects/ContinueFIxedMove.js"></script>
	<script egret="game" src="bin-debug/Effects/EffectsImg.js"></script>
	<script egret="game" src="bin-debug/Items/ChargeItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/DiscoveryItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/DrawInfoItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/DrawRewardItemScene.js"></script>
	<script egret="game" src="bin-debug/Items/FeedbackItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/IncomeItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/MyInfoItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/PKItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/SignInfoItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/SKGExploitItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/SRExploitItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/SRPlayerExploitItemRender.js"></script>
	<script egret="game" src="bin-debug/Items/WithdrawItemRender.js"></script>
	<script egret="game" src="bin-debug/LoadingUI.js"></script>
	<script egret="game" src="bin-debug/Main.js"></script>
	<script egret="game" src="bin-debug/MainScene.js"></script>
	<script egret="game" src="bin-debug/MyUtils.js"></script>
	<script egret="game" src="bin-debug/NotityWnd.js"></script>
	<script egret="game" src="bin-debug/Protocol.js"></script>
	<script egret="game" src="bin-debug/Data/DataManager.js"></script>
	<script egret="game" src="bin-debug/TimerCount.js"></script>
	<script egret="game" src="bin-debug/ui/JSSDK.js"></script>
	<script egret="game" src="bin-debug/ui/MyHSlider.js"></script>
	<script egret="game" src="bin-debug/ui/Notify.js"></script>
	<script egret="game" src="bin-debug/AssetAdapter.js"></script>
	<script egret="game" src="bin-debug/ui/WndManager.js"></script>
	<script egret="game" src="bin-debug/Wnd/BannerScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/BottomScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/BroadcastScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/ChargeResultScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/ChargeScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/ChargeWebScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/DiscoveryScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/DrawScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/ExploitScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/FeedbackScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/FeedbackScene1.js"></script>
	<script egret="game" src="bin-debug/Wnd/FeedbackScene2.js"></script>
	<script egret="game" src="bin-debug/Wnd/FirstPageScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/FwutiaokuangScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/GameScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/JoinScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/MaintScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/MyInfoScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/PackScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/PlayerInfoScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene1.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene2.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene3.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene4.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene5.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene6.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene7.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene8.js"></script>
	<script egret="game" src="bin-debug/Wnd/PromotionScene9.js"></script>
	<script egret="game" src="bin-debug/Wnd/QrScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/RoundExploitScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/SelectGameScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/ShareScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/SignDetailScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/SignScene.js"></script>
	<script egret="game" src="bin-debug/Wnd/TopScene.js"></script>
	<!--game_files_end-->
</head>
<body>

    <div style="margin: auto;width: 100%;height: 100%;" class="egret-player"
         data-entry-class="Main"
         data-orientation="portrait"
         data-scale-mode="exactFit"
         data-frame-rate="30"
         data-content-width="640"
         data-content-height="1036"
         data-show-paint-rect="false"
         data-multi-fingered="2"
         data-show-fps="false" data-show-log="false"
         data-show-fps-style="x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.9">
    </div>

    <div id="gameID"> </div>

    <div id="chargePage"> </div>

    <iframe id="page1" width=640 height=1036 frameborder=0 scrolling=auto src="" style="width:100%;height:90%; position: absolute; top: 0px; left: 0px;"></iframe>

    <script>

        var mime = { 'png': 'image/png', 'jpg': 'image/jpeg', 'jpeg': 'image/jpeg', 'bmp': 'image/bmp' };
            var selectedHandler;
            var thisRef;
            var typeName;
            function selectImage(selectedFunc, thisValue) {
                selectedHandler = selectedFunc;
                thisRef = thisValue;
                var fileInput = document.getElementById("fileInput");
                if (fileInput == null) {
                    fileInput = document.createElement("input");
                    fileInput.id = "fileInput";
                    fileInput.type = "file";
                    fileInput.accept = "image/*";
                    fileInput.style.height = "0px";
                    fileInput.style.display = "block";
                    fileInput.style.overflow = "hidden";
                    document.body.insertBefore(fileInput, document.body.firstChild);
                    fileInput.addEventListener('change', tmpSelectFile, false);
                }
                fileInput.click();
            }
            function tmpSelectFile(evt) {
                var file = evt.target.files[0];
                typeName = file.name;
                var type = file.type;
                if (!type) {
                    type = mime[file.name.match(/\.([^\.]+)$/i)[1]];
                }
                var reader = new FileReader();
                function tmpLoad() {
                    var re = /^data:base64,/;
                    var ret = this.result + '';
                    if (re.test(ret)) ret = ret.replace(re, 'data:' + mime[type] + ';base64,');
                    tmpCreateImage && tmpCreateImage(ret);
                }
                reader.onload = tmpLoad;
                reader.readAsDataURL(file);
                var fileInput = document.getElementById("fileInput");
                fileInput.value = "";
            }
            function tmpCreateImage(uri) {
                selectedHandler & selectedHandler(thisRef, uri);
            }


   // 方法1: 现在微信官方已经推出了微信JS-SDK, 最好还是不要使用"野生"方式, 因为不知道什么时候就可以不能用了!
    // http://mp.weixin.qq.com/wiki/7/aaa137b55fb2e0456bf8dd9148dd613f.html
    // 通过config接口注入权限验证配置后, 在 ready 中 play 一下 audio
    // function autoPlayAudio1() {
    //     //
    //     wx.config({
    //         // 配置信息, 即使不正确也能使用 wx.ready
    //         debug: false,
    //         appId: '',
    //         timestamp: 1,
    //         nonceStr: '',
    //         signature: '',
    //         jsApiList: []
    //     });
    //     wx.ready(function() {
    //         document.getElementById('bgMusic').play();
    //     });
    // }

    // 方法2: "野生"方法, 借用原来老的 WeixinJSBridge
    // function autoPlayAudio2() {
    //     window.onload = function() {
    //         // alert(typeof WeixinJSBridge);
    //         WeixinJSBridge.invoke('getNetworkType', {}, function(e) {
    //             // 在这里拿到 e.err_msg, 这里面就包含了所有的网络类型
    //             // alert(e.err_msg);
    //             document.getElementById('bgMusic').play();
    //         });
    //     };
    // }

    // 大家或多或少都知道 iOS Safari 不允许自动播放 audio, 可能已经被坑过了,
    // 但微信内嵌的浏览器应该是做了一些定制化, 允许自动播放 audio.
    // 测试了以下机型在微信内嵌浏览器中仅需设置 audio autoplay 即可自动播放(audio)音乐, 无需特殊处理.
    // * iPhone5     iOS 7.0.6 WeChat 6.2
    // * iPhone5s    iOS 8.1.2 WeChat 6.3.7
    // * iPhone6Plus iOS 8.1.3 WeChat 6.3.7
    // * MI1S    Android 4.1.2 WeChat 6.3.7
    // 
    // 但是当手机是 iPhone6s iOS 9.1 WeChat 6.3.7 时, 必须做如下特殊处理才能在微信中自动播放(audio)音乐,
    // 我可以推测是 iOS 9 的兼容性问题么?
    // 
   // autoPlayAudio1(); // 推荐使用方法1
    // autoPlayAudio2(); // 也可以试一试方法2

        /**
         * {
         * "renderMode":, //引擎渲染模式，"canvas" 或者 "webgl"
         * "audioType": "" //使用的音频类型，0:默认，1:qq audio，2:web audio，3:audio
         * "antialias": //WebGL模式下是否开启抗锯齿，true:开启，false:关闭，默认为false
         * }
         **/


        	function payment(obj){
            if(parseInt(obj.agent) < 5){  
                alert("您的微信版本低于5.0无法使用微信支付");  
                return;  
            }  
            WeixinJSBridge.invoke('getBrandWCPayRequest',{  
                "appId" : obj.appId,                  //公众号名称，由商户传入  
                "timeStamp":obj.timeStamp,          //时间戳，自 1970 年以来的秒数  
                "nonceStr" : obj.nonceStr,         //随机串  
                "package" : obj.prepay_id,         //<span style="font-family:微软雅黑;">商品包信息</span>  
                "signType" : obj.signType,        //微信签名方式:  
                "paySign" : obj.paySign           //微信签名  
                },function(res){      
                //alert(res.err_msg);  
                if(res.err_msg == "get_brand_wcpay_request:ok" ) {  
                    // alert("1111");
                    egret.MainContext.instance.stage.getChildByName("_main").fundcz("充值成功!");
                   // window.location.href=obj.sendUrl;  
                }else{  
					   
                }  
            });  
		}


//      //修改标题
//      function title(name){
//      document.title = name;
// //解决document.title 在 ios 下不生效bug方案 ios内生效
// const mobile = navigator.userAgent.toLowerCase();
// const length = document.querySelectorAll('iframe').length;
// if (/iphone|ipad|ipod/.test(mobile) && !length) {
//   const iframe = document.createElement('iframe');
//   iframe.style.cssText = 'display: none; width: 0; height: 0;';
//   iframe.setAttribute('src', 'about:blank');
//   iframe.addEventListener('load', () => {
//     setTimeout(() => {
//       iframe.removeEventListener('load', false);
//       document.body.removeChild(iframe);
//     }, 0);
//   });
//   document.body.appendChild(iframe);
// }
//      }
     
       //修改标题
     function title(name){
    //    var $body = document.body;
        document.title = name;
    //     const iframe = document.createElement('iframe');
    //   iframe.addEventListener('load', () => {
    //     setTimeout(() => {
    //     iframe.removeEventListener('load', false);
    //     document.body.removeChild(iframe);
    //     }, 0);
    // });
    // document.body.appendChild(iframe);
    }


    //打开充值页面
    function openChargeWeb(path,bool)
    {
         var bgm = document.getElementById('page1');  
        bgm.visible = bool;
        if(bool == false)
            bgm.style.display="none";
        else
            bgm.style.display="";

        bgm.src = path;  
    }

         	egret.runEgret();
    </script> 


   
    <!--<audio src="http://www.amo9.com/games/mar/benzs/resource/assets/bg.mp3" loop="loop" autoplay="autoplay"  style="width: 0;height: 0;opacity:0;" id="bgMusic"></audio>-->

</body>
</html>
