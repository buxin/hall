class SRExploitItemRender extends eui.ItemRenderer{
	    
    private lSRDate: eui.Label;
    private lSRTime: eui.Label;
    private lGameType: eui.Label;
    private imgAvatar: eui.Image;
    private rectMask: eui.Rect;
    private lName: eui.Label;
    private lSRLastTime: eui.Label;
    private lSRPoint: eui.Label;
    private rectTouch: eui.Rect;

    private roomId:number = -1;
  
    public constructor() {
        super();
        this.touchChildren = true;
        this.addEventListener(eui.UIEvent.COMPLETE,this.onComplete,this);
        this.skinName = "resource/items/SRExploitItem.exml";
    }

    private onComplete():void{
        this.imgAvatar.mask = this.rectMask;
        this.rectTouch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.handleItemClick,this);
    }
    
    public dataChanged():void{
        // 将数据对应到组件上
        
        var gameTypeId:number = Number(this.data.gameType);//战绩名字显示bug
        this.lGameType.text = "来自 " + GameConstant.GAME_TYPE_NAME_ARR[gameTypeId];

        	// return {gameType:this.gameType,gameLastTime:this.gameLastTime,playName:prd.Name,
			// avatar:prd.Avatar,point:prd.Point,gameDate:tf.Month+"-"+tf.Days,gameTime:tf.Hours+":"+tf.Minutes};
        this.lSRDate.text = this.data.gameDate;
        this.lSRTime.text = this.data.gameTime;
        this.imgAvatar.source = this.data.avatar;
        this.lName.text = this.data.roomCreater;
        this.lSRLastTime.text = this.data.gameLastTime + "分钟局";
        this.roomId = Number(this.data.roomId);

        var point:number = Number(this.data.point);

        if(point>0)
        {
            this.lSRPoint.text = "+"+point;
            this.lSRPoint.textColor = 0xff7574;
        }
        else
        {
            this.lSRPoint.text = ""+point;
            this.lSRPoint.textColor = 0x12bf7f;
        }

    }

    private handleItemClick(e:egret.TouchEvent):void
    {
        //查看单局战绩
        var event = new egret.Event("openSRExploit",true,false,this.roomId);
        this.dispatchEvent(event);
    }
    
}